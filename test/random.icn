#SRC: JCON

import io, ipl.test

#  test of random selection
#  (sets and tables are commented out because
#   v9 and jcon select different elements)

record r10(a,b,c,d,e,f,g,h,i,j)

procedure main()
   local r

   seed := 0
   rtest()
   r := seed

   rtest()

   seed := 0
   rtest()

   seed := r
   rtest()

   seed := 11213
   rtest()
end

procedure rtest()
   local i
   static L, S, T, R
   initial {
      R := r10(1,2,3,4,5,6,7,8,9,10)
      L := []
      T := table()
      every i := 1 to 100 do {
         put(L, i)
	 T[i] := -i
      }
      S := set(L)
   }

   write()
   write(right(seed,10), "  i  ", rand(9999))
   write(right(seed,10), "  i  ", rand(9999))
   write(right(seed,10), "  r  ", integer(10000 * rand(0)))
   write(right(seed,10), "  r  ", integer(10000 * rand(0)))
   write(right(seed,10), "  s  ", rand("abcdefghijklmnopqrstuvwxyz"))
   write(right(seed,10), "  s  ", rand("ABCDEFGHIJKLMNOPQRSTUVWXYZ"))
   write(right(seed,10), "  c  ", rand(&lcase))
   write(right(seed,10), "  c  ", rand(&ucase))
   write(right(seed,10), "  L  ", rand(L))
   write(right(seed,10), "  L  ", rand(L))
   write(right(seed,10), "  R  ", rand(R))
   write(right(seed,10), "  R  ", rand(R))
#   write(right(seed,10), "  S  ", rand(S))
#   write(right(seed,10), "  S  ", rand(S))
#   write(right(seed,10), "  T  ", rand(T))
#   write(right(seed,10), "  T  ", rand(T))
   return
end
