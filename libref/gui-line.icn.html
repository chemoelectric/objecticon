<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta charset="UTF-8"><title>line.icn</title></head><body><pre>
<a name="1"/>#
<a name="2"/># $Id: line.icn 7415 2019-01-25 16:51:58Z rparlett $
<a name="3"/>#
<a name="4"/># This file is in the public domain.
<a name="5"/>#
<a name="6"/># Author: Robert Parlett (parlett@dial.pipex.com)
<a name="7"/>#
<a name="8"/>
<a name="9"/>package gui
<a name="10"/>
<a name="11"/>#
<a name="12"/># This class implements an etched Line, drawn within its region.
<a name="13"/>#
<a name="14"/>class Line(Component, HasOrientation)
<a name="15"/>   public
<a name="16"/>      line_width
<a name="17"/>
<a name="18"/>   public override set_line_width(n)
<a name="19"/>      self.line_width := n
<a name="20"/>      link
<a name="21"/>   end
<a name="22"/>
<a name="23"/>   public override get_default_width()
<a name="24"/>      if /self.is_horizontal_flag then
<a name="25"/>         return line_width
<a name="26"/>   end
<a name="27"/>
<a name="28"/>   public override get_default_height()
<a name="29"/>      if \self.is_horizontal_flag then
<a name="30"/>         return line_width
<a name="31"/>   end
<a name="32"/>
<a name="33"/>   public override display()
<a name="34"/>      local i, x1, y1
<a name="35"/>      if \self.is_horizontal_flag then {
<a name="36"/>         y1 := self.y + (self.h - line_width) / 2 
<a name="37"/>         every i := 0 to line_width / 2 - 1 do
<a name="38"/>            Gui.style.fill_shadow_rectangle(self.cbwin,  self.x, y1 + i, self.w, 1)
<a name="39"/>         every i := line_width / 2 to line_width - 1 do
<a name="40"/>            Gui.style.fill_hilite_rectangle(self.cbwin,  self.x, y1 + i, self.w, 1)
<a name="41"/>      } else {
<a name="42"/>         x1 := self.x + (self.w - line_width) / 2
<a name="43"/>         every i := 0 to line_width / 2 - 1 do
<a name="44"/>            Gui.style.fill_shadow_rectangle(self.cbwin, x1 + i, self.y, 1, self.h)
<a name="45"/>         every i := line_width / 2 to line_width - 1 do
<a name="46"/>            Gui.style.fill_hilite_rectangle(self.cbwin, x1 + i, self.y, 1, self.h)
<a name="47"/>      }
<a name="48"/>   end
<a name="49"/>
<a name="50"/>   public override new()
<a name="51"/>      Component.new()
<a name="52"/>      self.line_width := Gui.BORDER_WIDTH
<a name="53"/>      self.is_horizontal_flag := &amp;yes
<a name="54"/>      return
<a name="55"/>   end
<a name="56"/>end
<a name="57"/>
<a name="58"/>
<a name="59"/>
</pre></body></html>
