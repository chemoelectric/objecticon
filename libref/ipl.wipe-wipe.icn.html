<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta charset="UTF-8"><title>wipe.icn</title></head><body><pre>
<a name="1"/>############################################################################
<a name="2"/>#
<a name="3"/>#	File:     wipe.icn
<a name="4"/>#
<a name="5"/>#	Subject:  Procedure to wipe window area
<a name="6"/>#
<a name="7"/>#	Author:   Ralph E. Griswold
<a name="8"/>#
<a name="9"/>#	Date:     May 2, 2001
<a name="10"/>#
<a name="11"/>############################################################################
<a name="12"/>#
<a name="13"/>#   This file is in the public domain.
<a name="14"/>#
<a name="15"/>############################################################################
<a name="16"/>#
<a name="17"/>#  wipe(window, color, direction, x, y, w, h)  "wipes" a rectangular area of
<a name="18"/>#  window to the specified color.  The direction of wiping can be any one of:
<a name="19"/>#
<a name="20"/>#	"right"		from left to right
<a name="21"/>#	"left"		from right to left
<a name="22"/>#	"down"		from top to bottom
<a name="23"/>#	"up		from bottom to top
<a name="24"/>#	"left-right"	from left and right toward center
<a name="25"/>#	"up-down"	from top and bottom toward center
<a name="26"/>#	"in"		from outside to inside
<a name="27"/>#
<a name="28"/>#  The default direction is "right".
<a name="29"/>#
<a name="30"/>#  The default color is the background color of the window.
<a name="31"/>#
<a name="32"/>#  x, y is the top left corner of the area and w and h are the width and
<a name="33"/>#  height. An omitted value defaults to the one for the entire window.
<a name="34"/>#
<a name="35"/>############################################################################
<a name="36"/>#
<a name="37"/>#  Requires:  Version 9 graphics
<a name="38"/>#
<a name="39"/>############################################################################
<a name="40"/>
<a name="41"/>package ipl.wipe
<a name="42"/>
<a name="43"/>procedure wipe(window, color, direction, x1, y1, w, h)
<a name="44"/>   local x, y, x2, y2, fg
<a name="45"/>
<a name="46"/>   /color := window.get_bg()			# establish defaults
<a name="47"/>   /direction := "right"
<a name="48"/>   /x1 := 0
<a name="49"/>   /y1 := 0
<a name="50"/>   /w := window.get_width()
<a name="51"/>   /h := window.get_height()
<a name="52"/>   x2 := x1 + w
<a name="53"/>   y2 := y1 + h
<a name="54"/>
<a name="55"/>   fg := window.get_fg()				# save present foreground color
<a name="56"/>   window.set_fg(color)				# set foreground for wiping
<a name="57"/>
<a name="58"/>   if not(integer(x1) &amp; integer(x2) &amp; integer(y1) &amp; integer(y2)) |
<a name="59"/>      (x1 &gt; x2) | (y1 &gt; y2) then runerr("*** illegal coordinates in wipe()")
<a name="60"/>
<a name="61"/>   case direction of {
<a name="62"/>      "right": {
<a name="63"/>         every x := x1 to x2 do {
<a name="64"/>            window.draw_line(x, y1, x, y2)
<a name="65"/>            }
<a name="66"/>         }
<a name="67"/>      "left": {
<a name="68"/>         every x := x2 to x1 by -1 do {
<a name="69"/>            window.draw_line(x, y1, x, y2)
<a name="70"/>            }
<a name="71"/>         }
<a name="72"/>      "left-right": {
<a name="73"/>         until (x2 &lt; x1) do {
<a name="74"/>           window.draw_line(x1, y1, x1, y2)
<a name="75"/>           window.draw_line(x2, y1, x2, y2)
<a name="76"/>           x1 +:= 1
<a name="77"/>           x2 -:= 1
<a name="78"/>           }
<a name="79"/>         }
<a name="80"/>      "up-down": {
<a name="81"/>          until y2 &lt; y1 do {
<a name="82"/>            window.draw_line(x1, y1, x2, y1)
<a name="83"/>            window.draw_line(x1, y2, x2, y2)
<a name="84"/>            y1 +:= 1
<a name="85"/>            y2 -:= 1
<a name="86"/>            }
<a name="87"/>         }
<a name="88"/>      "down": {
<a name="89"/>         every y := y1 to y2 do {
<a name="90"/>            window.draw_line(x1, y, x2, y)
<a name="91"/>            }
<a name="92"/>         }
<a name="93"/>      "up": {
<a name="94"/>         every y := y2 to y1 by -1 do {
<a name="95"/>            window.draw_line(x1, y, x2, y)
<a name="96"/>            }
<a name="97"/>         }
<a name="98"/>      "in": {
<a name="99"/>         until (x2 &lt; x1) | (y2 &lt; y1) do {
<a name="100"/>            window.draw_line(x1, y1, x1, y2, x2, y2, x2, y1, x1, y1)
<a name="101"/>            x1 +:= 1
<a name="102"/>            x2 -:= 1
<a name="103"/>            y1 +:= 1
<a name="104"/>            y2 -:= 1
<a name="105"/>            }
<a name="106"/>         }
<a name="107"/>      default: runerr("*** illegal direction specificaion in wipe()", direction)
<a name="108"/>      }
<a name="109"/>
<a name="110"/>   window.set_fg(fg)			# restore foreground color
<a name="111"/>
<a name="112"/>   return
<a name="113"/>
<a name="114"/>end
</pre></body></html>
