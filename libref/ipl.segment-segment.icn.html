<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta charset="UTF-8"><title>segment.icn</title></head><body><pre>
<a name="1"/>############################################################################
<a name="2"/>#
<a name="3"/>#	File:     segment.icn
<a name="4"/>#
<a name="5"/>#	Subject:  Procedures to segment string
<a name="6"/>#
<a name="7"/>#	Author:   William H. Mitchell
<a name="8"/>#
<a name="9"/>#	Date:     June 10, 1988
<a name="10"/>#
<a name="11"/>############################################################################
<a name="12"/>#
<a name="13"/>#   This file is in the public domain.
<a name="14"/>#
<a name="15"/>############################################################################
<a name="16"/>#  
<a name="17"/>#     These procedures segment a string s into consecutive substrings
<a name="18"/>#  consisting of characters that respectively do/do not occur in c.
<a name="19"/>#  segment(s,c) generates the substrings, while seglist produces a list
<a name="20"/>#  of the segments.  For example,
<a name="21"/>#  
<a name="22"/>#          segment("Not a sentence.",&amp;letters)
<a name="23"/>#  
<a name="24"/>#  generates
<a name="25"/>#  
<a name="26"/>#          "Not"
<a name="27"/>#          " "
<a name="28"/>#          "a"
<a name="29"/>#          " "
<a name="30"/>#          "sentence"
<a name="31"/>#          "."
<a name="32"/>#  while
<a name="33"/>#          seglist("Not a sentence.",&amp;letters)
<a name="34"/>#
<a name="35"/>#  produces
<a name="36"/>#
<a name="37"/>#          ["Not"," ","a","sentence","."]
<a name="38"/>#
<a name="39"/>############################################################################
<a name="40"/>
<a name="41"/>package ipl.segment
<a name="42"/>
<a name="43"/>procedure segment(line,dlms)
<a name="44"/>   local ndlms
<a name="45"/>
<a name="46"/>   dlms := (any(dlms,line[1]) &amp; ~dlms)
<a name="47"/>   ndlms := ~dlms
<a name="48"/>   line ? repeat {
<a name="49"/>      suspend tab(many(ndlms)) \ 1
<a name="50"/>      suspend tab(many(dlms)) \ 1
<a name="51"/>      pos(0) &amp; break
<a name="52"/>      }
<a name="53"/>end
<a name="54"/>
<a name="55"/>procedure seglist(s,c)
<a name="56"/>   local L
<a name="57"/>
<a name="58"/>   L := []
<a name="59"/>   c := (any(c,s[1]) &amp; ~c)
<a name="60"/>   s ? while put(L,tab(many(c := ~c)))
<a name="61"/>   return L
<a name="62"/>end
</pre></body></html>
