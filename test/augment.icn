#SRC: V9GEN

import io

record array(a,b,c,d,e,f,g)

procedure p1()
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i =:= 9 ----> ",image(i =:= 9) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i =:= 10 ----> ",image(i =:= 10) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i =:= 11 ----> ",image(i =:= 11) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i >=:= 9 ----> ",image(i >=:= 9) | "none")
end

procedure p2()
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i >=:= 10 ----> ",image(i >=:= 10) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i >=:= 11 ----> ",image(i >=:= 11) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i >:= 9 ----> ",image(i >:= 9) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
end

procedure p3()
   write("i >:= 10 ----> ",image(i >:= 10) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i >:= 11 ----> ",image(i >:= 11) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i <=:= 9 ----> ",image(i <=:= 9) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i <=:= 10 ----> ",image(i <=:= 10) | "none")
   write("i ----> ",image(i) | "none")
end

procedure p4()
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i <=:= 11 ----> ",image(i <=:= 11) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i <:= 9 ----> ",image(i <:= 9) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i <:= 10 ----> ",image(i <:= 10) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i <:= 11 ----> ",image(i <:= 11) | "none")
end

procedure p5()
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i ~=:= 9 ----> ",image(i ~=:= 9) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i ~=:= 10 ----> ",image(i ~=:= 10) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i ~=:= 11 ----> ",image(i ~=:= 11) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
end

procedure p6()
   write("i +:= 9 ----> ",image(i +:= 9) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i +:= 10 ----> ",image(i +:= 10) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i +:= 11 ----> ",image(i +:= 11) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i -:= 9 ----> ",image(i -:= 9) | "none")
   write("i ----> ",image(i) | "none")
end

procedure p7()
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i -:= 10 ----> ",image(i -:= 10) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i -:= 11 ----> ",image(i -:= 11) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i *:= 9 ----> ",image(i *:= 9) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i *:= 10 ----> ",image(i *:= 10) | "none")
end

procedure p8()
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i *:= 11 ----> ",image(i *:= 11) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i /:= 9 ----> ",image(i /:= 9) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i /:= 10 ----> ",image(i /:= 10) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
end

procedure p9()
   write("i /:= 11 ----> ",image(i /:= 11) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i %:= 9 ----> ",image(i %:= 9) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i %:= 10 ----> ",image(i %:= 10) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i %:= 11 ----> ",image(i %:= 11) | "none")
   write("i ----> ",image(i) | "none")
end

procedure p10()
   write("i := 10 ----> ",image(i := 10) | "none")
   write("i ^:= 9 ----> ",image(i ^:= 9) | "none")
   write("i ----> ",image(i) | "none")
   write("i := 10 ----> ",image(i := 10) | "none")
   write("s := \"x\" ----> ",image(s := "x") | "none")
   write("s <<:= \"x\" ----> ",image(s <<:= "x") | "none")
end

procedure p11()
   write("s ----> ",image(s) | "none")
   write("s := \"x\" ----> ",image(s := "x") | "none")
   write("s <<:= \"xx\" ----> ",image(s <<:= "xx") | "none")
   write("s ----> ",image(s) | "none")
   write("s := \"x\" ----> ",image(s := "x") | "none")
   write("s <<:= \"X\" ----> ",image(s <<:= "X") | "none")
   write("s ----> ",image(s) | "none")
   write("s := \"x\" ----> ",image(s := "x") | "none")
   write("s <<:= \"abc\" ----> ",image(s <<:= "abc") | "none")
   write("s ----> ",image(s) | "none")
   write("s := \"x\" ----> ",image(s := "x") | "none")
end

procedure p12()
   write("s ~==:= \"x\" ----> ",image(s ~==:= "x") | "none")
   write("s ----> ",image(s) | "none")
   write("s := \"x\" ----> ",image(s := "x") | "none")
   write("s ~==:= \"xx\" ----> ",image(s ~==:= "xx") | "none")
   write("s ----> ",image(s) | "none")
   write("s := \"x\" ----> ",image(s := "x") | "none")
   write("s ~==:= \"X\" ----> ",image(s ~==:= "X") | "none")
   write("s ----> ",image(s) | "none")
   write("s := \"x\" ----> ",image(s := "x") | "none")
   write("s ~==:= \"abc\" ----> ",image(s ~==:= "abc") | "none")
   write("s ----> ",image(s) | "none")
end

procedure f(x,y)
   write("g1(",x,",",y,") -> g1")
   suspend g1
   write("g1(",x,",",y,") -> g2")
   suspend g2
   write("g1(",x,",",y,") -> g3")
   suspend g3
   write("g1(",x,",",y,") fails")
end

procedure g1(x,y)
   write("g1(",x,",",y,")")
end

procedure g2(x,y)
   write("g2(",x,",",y,")")
end

procedure g3(x,y)
   write("g3(",x,",",y,") -> g4")
   return g4
end

procedure g4(x,y)
   write("g4(",x,",",y,")")
end

procedure g5(a,b,c)
   write("g5(",a,",",b,",",c,")")
end

procedure p13()
   local p, l1, l2

   l1 := [1,2]
   l2 := [3,4]

   p := f
   every p !:= l1 do
      write(image(p))

   p := f
   every p !:= (l1|l2) do
      write(image(p))

   p := f
   (p !:= l1) := g4
   write(image(p))

   p := g5
   every p !:= (l1|l2|[3,2,1]|[5,6,7,8])

   p := [f]
   every p[1] !:= l1 do
      write(image(p[1]))

   p := [f]
   every p[1] !:= (l1|l2) do
      write(image(p[1]))

   p := [f]
   (p[1] !:= l1) := g4
   write(image(p[1]))

   p := [g5]
   every p[1] !:= (l1|l2|[3,2,1]|[5,6,7,8])
end

procedure main()
   p1()
   p2()
   p3()
   p4()
   p5()
   p6()
   p7()
   p8()
   p9()
   p10()
   p11()
   p12()
   p13()
end

global i, s, c, one, two, x
