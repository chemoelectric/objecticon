#
# Wrapper for main procedure.
#
$start main_wrapper
    Op_Invoke
        clo:0
        Op_Arg arg:0
        1
        0
        MainExit
        Op_Arg arg:1

#      
# main() has exited; either transfer to the monitoring progstate, setting
# the exited flag, or fall through and exit.
#
MainExit:
    Op_Custom c:handle_monitored_prog_exit
    Op_Exit
$end
