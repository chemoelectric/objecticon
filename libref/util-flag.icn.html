<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta charset="UTF-8"><title>flag.icn</title></head><body><pre>
<a name="1"/>package util
<a name="2"/>
<a name="3"/>import lang
<a name="4"/>
<a name="5"/>#
<a name="6"/># Convert to flag value (&amp;yes/&amp;no)
<a name="7"/>#
<a name="8"/>procedure flag(s)
<a name="9"/>   # Flag values just return themselves
<a name="10"/>   return if s === (&amp;yes | &amp;no) then
<a name="11"/>      s
<a name="12"/>   else case Text.lower(string(s)) of {
<a name="13"/>      "y" | "&amp;yes" | "yes" | "t" | "true" | "on" | "1" : &amp;yes
<a name="14"/>      "n" | "&amp;no" | "no" | "f" | "false" | "off" | "0" : &amp;no
<a name="15"/>   }
<a name="16"/>end
<a name="17"/>
<a name="18"/>#
<a name="19"/># Check that x is a flag (&amp;yes or &amp;no), or give a runtime error
<a name="20"/># message.  Note that no conversion is done.
<a name="21"/>#
<a name="22"/>procedure need_flag(x)
<a name="23"/>   x === (&amp;yes | &amp;no) | runerr(171, x)
<a name="24"/>   return x
<a name="25"/>end
<a name="26"/>
<a name="27"/>#
<a name="28"/># Toggle the value of a flag.
<a name="29"/>#
<a name="30"/>procedure toggle_flag(f)
<a name="31"/>   return if /f then &amp;yes else &amp;no
<a name="32"/>end
<a name="33"/>
<a name="34"/>#
<a name="35"/># Return &amp;yes if the given expression succeeds, otherwise &amp;no.
<a name="36"/>#
<a name="37"/>procedure Yes(e)
<a name="38"/>   return if @e then &amp;yes else &amp;no
<a name="39"/>end
<a name="40"/>
<a name="41"/>#
<a name="42"/># Return &amp;no if the given expression succeeds, otherwise &amp;yes.
<a name="43"/>#
<a name="44"/>procedure No(e)
<a name="45"/>   return if @e then &amp;no else &amp;yes
<a name="46"/>end
<a name="47"/>
</pre></body></html>
