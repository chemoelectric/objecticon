#summary Translating, linking and running programs
<wiki:toc max_depth="3" />
= Translating =
Translation from Object Icon source files to intermediate `.u` files is done by the program `oit`.

Input source files should have the suffix `.icn`.  To translate one or more files, invoke `oit` as follows :-
{{{
oit -c file1.icn file2.icn ...
}}}
This will produce `file1.u`, `file2.u` etc.

= Linking =
The `oit` program is also used to link `.u` files together to form an executable file that can be run :-
{{{
oit -o prog file1.u file2.u ...
}}}

You can also go directly from the source file to the executable if you wish.  In this case the intermediate `.u` files are deleted.  For example :-
{{{
oit myprog.icn
}}}
Translates and links `myprog.icn` into an executable `myprog`.

= Command line options =
`oit` accepts the following command-line options :-

 * *-n* Only translate a .icn to a .u file if it is out-of-date
 * *-B* Bundle the oix executable in the output
 * *-m* Preprocess using m4
 * *-Z* Use zlib compression on the icode file
 * *-c* Stop after producing ucode files.
 * *-u* Source code is in utf8 format
 * *-f* Enable full string invocation by preserving unreferenced globals during linking (equivalent to `invocable all` in a source file).
 * *-o file* Write the executable program to the specified file.
 * *-s* Suppress informative messages during translation and linking (equivalent to `-v 0`)
 * *-O i* Optimization level during linking. 1 means do optimizations, 0 means don't (default is 1).
 * *-v i* Set verbosity level of informative messages to i.
 * *-l i* Configure the amount of source location info to store in the icode. 0 means none, 1 means store location info for procedure call and stack tracebacks (the default, adds about 10% more space compared to option 0) and 2 means additionally store location info of all symbols (costs another 5% of space).
 * *-L* During linking, output a `.ux` file giving information about the icode file
 * *-I* During code generation, output a dump of the intermediate code, both in its raw and optimized state.
 * *-E* Direct  the results of preprocessing to standard output and inhibit further processing.
 * *-V* Announce version and configuration information on standard error.

= Running =
The runtime system is contained in the program `oix`.  It is not normally necessary to run that directly because the executable built by `oit` invokes it automatically.

`oix` can be invoked by `oit` by appending `-x` to the command line (followed by any desired runtime arguments).   For example
{{{
oit myprog.icn -x
}}}
translates, links and runs `myprog.icn`.   The executable file `myprog` is not deleted after completion (unlike the intermediate `.u` file).  Note that if the current directory (".") is not on your `PATH` variable, you need to enter
{{{
oit ./myprog.icn -x
}}}
instead.